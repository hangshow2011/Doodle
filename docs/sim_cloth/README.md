# maya 解算和导出

## 配置文件默认选择方法

> [!NOTE]
> 所有的项目解算都需要先选中配置, 以确认输出方法

所有的配置文件基于**最近的项目配置**

- 用doodle打开 **A项目配置**
    - 打开**A项目** 的maya文件配置为 **A项目配置**
    - 打开**B项目** 的maya文件配置为 **A项目配置**
    - 打开**C项目** 的maya文件配置为 **A项目配置**
- 再次用doodle打开 **B项目配置**
    - 打开**A项目** 的maya文件配置为 **B项目配置**
    - 打开**B项目** 的maya文件配置为 **B项目配置**
    - 打开**C项目** 的maya文件配置为 **B项目配置**
- 在maya内部打开 **C项目配置**
    - 打开**A项目** 的maya文件配置为 **C项目配置**
    - 打开**B项目** 的maya文件配置为 **C项目配置**
    - 打开**C项目** 的maya文件配置为 **C项目配置**
- 再次在maya内部打开 **A项目配置**
    - 打开**A项目** 的maya文件配置为 **A项目配置**
    - 打开**B项目** 的maya文件配置为 **A项目配置**
    - 打开**C项目** 的maya文件配置为 **A项目配置**
- 再次用doodle打开 **A项目配置**
    - 打开**A项目** 的maya文件配置为 **A项目配置**
    - 打开**B项目** 的maya文件配置为 **A项目配置**
    - 打开**C项目** 的maya文件配置为 **A项目配置**

### 创建配置文件

> [!NODE]
> 配置文件可以放置共享文件夹中, 多人使用同一个配置文件, 可以一次创建多人使用

#### 配置文件创建

点击**菜单栏**中的**文件主菜单**, 选中**创建项目**动作![](image_/img.png  ':size=30*30'),
在弹出的文件选择器中选择配置文件需要放置的目录![](image_/img_1.png  ':size=30*30'),
点击ok后,输入配置文件的名称.

## fbx动画导出

> [!WARNING]
> fbx 导出同样需要创建配置,否则只支持内部项目

fbx导出只需要**一处修改**配置文件, 有两处比较重要

### 修改配置

- 导出组名称 这个是fbx导出时选择的根物体 (默认ue4即可)
- 导出动画开始帧 这个是fbx导出的开始帧(**这个要进行修改**)

## 解算方法

### 修改配置

在**窗口菜单**中选择**项目设置**,在弹出的窗口中开始设置项目,和解算相关的设置分别是一下选项:

#### 基本配置

- 名称 显示的名称,可以是任意名称
- 项目路径是不可配置的, 他是文件所在的路径

#### 解算配置

- 解算路径 放置解算资产的路径,
  > [!WARNING]
  > 解算资产必须是绑定资产的同名加 **_cloth** 后缀的文件  
  > 比如 test_rig.ma -> test_rig_cloth.ma
- 导出组名称 这个是解算时需要查找导出的组的名称, **很重要**, 很多查找都依赖此处的名称
- 布料解算后缀名 这个是布料解算的后缀名称,使用这个创建布料 **不重要(默认)**
- 动画后缀名 这个是动作复制出来时,创建的后缀名称 **不重要(默认)**
- 只导出解算模型 使用这个时,导出abc的行为为只导出解算模型 (**因为公司使用**)
- 使用组划分导出 使用这个时,导出时导出多个abc文件 (**因为公司使用**)
- 重命名材质 使用这个时将会使maya作色集和材质名称进行对调, 以符合ue4查找名称规则
- 合并网格体,使用这个选项时,将会将导出组下方所有的模型合并为同一个网格体
- Tpost时间 解算的开始时间
- 导出动画开始帧 开始导出的动画时间必须大于 Tpost时间

##### 导出abc配置

这个保持默认即可(因为公司需要其他配置)

- uv写入
- 写入颜色集
- 写入面集
- 整帧几何体
- 世界空间
- 写入可见性
- 写入uv集
- 分裂名称空间

